(function () {
  const i18n = {
    en: {
      nav_home: "Home",
      nav_about: "About",
      nav_articles: "Articles",
      nav_links: "Links",
      nav_contact: "Contact",

      badge_student: "Medical Student",
      badge_about: "About",
      badge_articles: "Articles",
      badge_links: "Links",
      badge_contact: "Contact",

      home_kicker: "Medical profile â€¢ content â€¢ credibility",
      hero_title: "A medical profile that feels premium and trustworthy.",
      hero_desc:
        "Iâ€™m Abd-Alrahman Aqeel Taha â€” a medical student & medical content creator. I turn complex medical concepts into clear, responsible videos and well-structured articles.",
      hero_desc2:
        "My focus: educational content that respects evidence, avoids hype, and builds real trust over time.",
      hero_disclaimer: "Educational content only â€” not medical advice.",

      pill_1: "Medical Education",
      pill_2: "Public Health",
      pill_3: "Prevention",
      pill_4: "Short-form Video",
      pill_5: "Scientific Writing",
      pill_6: "Myth-busting",

      cta_articles: "Read articles",
      cta_social: "My links",
      cta_contact: "Work with me",

      stat1_k: "Platforms",
      stat1_v: "Instagram â€¢ TikTok â€¢ YouTube",
      stat2_k: "Content style",
      stat2_v: "Clear â€¢ visual â€¢ referenced",
      stat3_k: "Goal",
      stat3_v: "Trust + real learning",

      box1_t: "Write",
      box1_d: "Academic-style articles with references (when possible), simplified for everyone.",
      box2_t: "Teach",
      box2_d: "Short videos that explain, simplify, and correct common myths.",
      box3_t: "Build Trust",
      box3_d: "Clear disclaimers + consistent identity across platforms.",

      about_title: "About",
      about_p1:
        "Iâ€™m Abd-Alrahman Aqeel Taha, a medical student and medical content creator. I build educational content thatâ€™s clear, responsible, and practical.",
      about_p2:
        "I care about medical education, public health, prevention, and communicating science in a way people actually understand.",
      about_note:
        "Disclaimer: This website and content are for education and awareness, not personal diagnosis or treatment.",
      about_focus_t: "What youâ€™ll find here",
      about_focus_d:
        "Articles, short videos, and curated resources â€” organized as an official archive for my work.",
      about_work_t: "Open to collaboration",
      about_work_d:
        "Guest writing, educational projects, video collaborations, and awareness campaigns.",

      articles_title: "Articles",
      articles_p1: "Long-form writing on Medium. I list the newest pieces here.",
      articles_profile_t: "My Medium profile",
      articles_profile_d: "All articles in one place",
      article1_t: "Why Doctors Are Afraid of Apples ðŸŽ",
      article1_d: "Read the full article on Medium",
      articles_tip: "Tip: Add every new article here to build your official archive.",

      links_title: "Official Links",
      links_p1: "Use this page as your single bio link everywhere.",
      links_tip: "Set this as the only link in your Instagram/TikTok bio.",
      links_cta1: "Articles",
      links_cta2: "Contact",
      links_featured: "Featured",
      links_social: "Social",
      links_contact: "Contact",

      contact_title: "Contact",
      contact_p1: "For collaborations, educational projects, or invitations:",
      contact_note:
        "I canâ€™t provide personal diagnosis via messages. Educational questions are welcome.",

      lang_btn: "AR",
      lang_hint: "Language"
    },

    ar: {
      nav_home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
      nav_about: "Ù…Ù† Ø£Ù†Ø§",
      nav_articles: "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
      nav_links: "Ø±ÙˆØ§Ø¨Ø·",
      nav_contact: "ØªÙˆØ§ØµÙ„",

      badge_student: "Ø·Ø§Ù„Ø¨ Ø·Ø¨",
      badge_about: "Ù…Ù† Ø£Ù†Ø§",
      badge_articles: "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
      badge_links: "Ø±ÙˆØ§Ø¨Ø·",
      badge_contact: "ØªÙˆØ§ØµÙ„",

      home_kicker: "Ù…Ù„Ù Ø·Ø¨ÙŠ â€¢ Ù…Ø­ØªÙˆÙ‰ â€¢ Ù…ØµØ¯Ø§Ù‚ÙŠØ©",
      hero_title: "Ù…ÙˆÙ‚Ø¹ Ø·Ø¨ÙŠ Ø±Ø³Ù…ÙŠâ€¦ Ø¨Ø³ Ø¨Ø±ÙˆØ­ Ø¹ØµØ±ÙŠØ© ÙˆØªØ­Ø±ÙŠÙƒ Ù„Ø·ÙŠÙ.",
      hero_desc:
        "Ø£Ù†Ø§ Abd-Alrahman Aqeel Taha â€” Ø·Ø§Ù„Ø¨ Ø·Ø¨ ÙˆØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ø·Ø¨ÙŠ. Ø£Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© Ø¥Ù„Ù‰ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ù‚Ø§Ù„Ø§Øª Ù…Ø±ØªØ¨Ø© ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ø³Ø¤ÙˆÙ„.",
      hero_desc2:
        "Ù‡Ø¯ÙÙŠ: Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ Ù…ÙˆØ«ÙˆÙ‚ØŒ ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªØ¶Ù„ÙŠÙ„ØŒ ÙˆÙŠØ¨Ù†ÙŠ Ø«Ù‚Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª.",
      hero_disclaimer: "Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ ÙÙ‚Ø· â€” Ù„ÙŠØ³ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø·Ø¨ÙŠØ©.",

      pill_1: "ØªØ¹Ù„ÙŠÙ… Ø·Ø¨ÙŠ",
      pill_2: "Ø§Ù„ØµØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø©",
      pill_3: "Ø§Ù„ÙˆÙ‚Ø§ÙŠØ©",
      pill_4: "ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ø©",
      pill_5: "ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù…ÙŠØ©",
      pill_6: "ØªØµØ­ÙŠØ­ Ø®Ø±Ø§ÙØ§Øª",

      cta_articles: "Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
      cta_social: "Ø±ÙˆØ§Ø¨Ø·ÙŠ",
      cta_contact: "ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ÙŠ",

      stat1_k: "Ø§Ù„Ù…Ù†ØµØ§Øª",
      stat1_v: "Ø¥Ù†Ø³ØªØºØ±Ø§Ù… â€¢ ØªÙŠÙƒ ØªÙˆÙƒ â€¢ ÙŠÙˆØªÙŠÙˆØ¨",
      stat2_k: "Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰",
      stat2_v: "ÙˆØ§Ø¶Ø­ â€¢ Ø¨ØµØ±ÙŠ â€¢ Ø¨Ù…Ø±Ø§Ø¬Ø¹",
      stat3_k: "Ø§Ù„Ù‡Ø¯Ù",
      stat3_v: "Ø«Ù‚Ø© + ØªØ¹Ù„Ù… ÙØ¹Ù„ÙŠ",

      box1_t: "Ø£ÙƒØªØ¨",
      box1_d: "Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø±ØªØ¨Ø© Ø¨Ø·Ø§Ø¨Ø¹ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ ÙˆØ¨Ù…Ø±Ø§Ø¬Ø¹ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ØŒ ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ø³Ù‡Ù„.",
      box2_t: "Ø£Ø¹Ù„Ù‘Ù…",
      box2_d: "ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ø© ØªØ¨Ø³Ø· ÙˆØªØ´Ø±Ø­ ÙˆØªØµÙ‘Ø­Ø­ Ø§Ù„Ø®Ø±Ø§ÙØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©.",
      box3_t: "Ø£Ø¨Ù†ÙŠ Ø«Ù‚Ø©",
      box3_d: "ØªÙ†Ø¨ÙŠÙ‡ ÙˆØ§Ø¶Ø­ + Ù‡ÙˆÙŠØ© Ø«Ø§Ø¨ØªØ© + Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø¨Ø§Ù„Ù…Ø­ØªÙˆÙ‰.",

      about_title: "Ù…Ù† Ø£Ù†Ø§",
      about_p1:
        "Ø£Ù†Ø§ Abd-Alrahman Aqeel TahaØŒ Ø·Ø§Ù„Ø¨ Ø·Ø¨ ÙˆØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ø·Ø¨ÙŠ. Ø£Ù‚Ø¯Ù… Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ ÙˆØ§Ø¶Ø­ ÙˆØ¹Ù…Ù„ÙŠ ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ø³Ø¤ÙˆÙ„.",
      about_p2:
        "Ø£Ù‡ØªÙ… Ø¨Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠØŒ Ø§Ù„ØµØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø©ØŒ Ø§Ù„ÙˆÙ‚Ø§ÙŠØ©ØŒ ÙˆØ´Ø±Ø­ Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© Ù„Ù„Ù†Ø§Ø³ Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙŠÙÙ‡Ù…ÙˆÙ‡Ø§ ÙØ¹Ù„Ù‹Ø§.",
      about_note:
        "ØªÙ†Ø¨ÙŠÙ‡: Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªÙˆØ¹ÙŠØ© ÙÙ‚Ø· ÙˆÙ„ÙŠØ³ Ù„Ù„ØªØ´Ø®ÙŠØµ Ø£Ùˆ Ø§Ù„Ø¹Ù„Ø§Ø¬.",
      about_focus_t: "Ø´Ù†Ùˆ Ø±Ø§Ø­ ØªØ­ØµÙ„ Ù‡Ù†Ø§ØŸ",
      about_focus_d:
        "Ù…Ù‚Ø§Ù„Ø§Øª + ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ø© + Ù…ØµØ§Ø¯Ø± Ù…Ø®ØªØ§Ø±Ø©â€¦ ÙƒÙ„Ù‡Ø§ Ù…Ø±ØªØ¨Ø© ÙƒØ£Ø±Ø´ÙŠÙ Ø±Ø³Ù…ÙŠ Ù„Ù…Ø­ØªÙˆØ§ÙŠ.",
      about_work_t: "Ù…ØªØ§Ø­ Ù„Ù„ØªØ¹Ø§ÙˆÙ†",
      about_work_d:
        "ÙƒØªØ§Ø¨Ø© Ø¶ÙŠÙØŒ Ù…Ø´Ø§Ø±ÙŠØ¹ ØªØ¹Ù„ÙŠÙ…ÙŠØ©ØŒ ØªØ¹Ø§ÙˆÙ†Ø§Øª ÙÙŠØ¯ÙŠÙˆØŒ ÙˆØ­Ù…Ù„Ø§Øª ØªÙˆØ¹ÙˆÙŠØ©.",

      articles_title: "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
      articles_p1: "Ù…Ù‚Ø§Ù„Ø§Øª Ø·ÙˆÙŠÙ„Ø© Ø¹Ù„Ù‰ MediumØŒ ÙˆØ±Ø§Ø­ Ø£Ø¶ÙŠÙ Ø§Ù„Ø£Ø­Ø¯Ø« Ù‡Ù†Ø§.",
      articles_profile_t: "Ù…Ù„ÙÙŠ Ø¹Ù„Ù‰ Medium",
      articles_profile_d: "ÙƒÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯",
      article1_t: "Ù„Ù…Ø§Ø°Ø§ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ â€œÙŠØ®Ø§ÙÙˆÙ†â€ Ù…Ù† Ø§Ù„ØªÙØ§Ø­ ðŸŽ",
      article1_d: "Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Medium",
      articles_tip: "Ù†ØµÙŠØ­Ø©: ÙƒÙ„ Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø¶ÙŠÙÙ‡ Ù‡Ù†Ø§ Ø­ØªÙ‰ ÙŠØµÙŠØ± Ø¹Ù†Ø¯Ùƒ Ø£Ø±Ø´ÙŠÙ Ø±Ø³Ù…ÙŠ.",

      links_title: "Ø±ÙˆØ§Ø¨Ø·ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠØ©",
      links_p1: "Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ÙƒØ±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯ Ø¨ÙƒÙ„ Ù…ÙƒØ§Ù†.",
      links_tip: "Ø®Ù„ÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù‡ÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØ­ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ø§ÙŠÙˆ.",
      links_cta1: "Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
      links_cta2: "ØªÙˆØ§ØµÙ„",
      links_featured: "Ù…Ù…ÙŠØ²",
      links_social: "Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„",
      links_contact: "Ø§Ù„ØªÙˆØ§ØµÙ„",

      contact_title: "ØªÙˆØ§ØµÙ„",
      contact_p1: "Ù„Ù„ØªØ¹Ø§ÙˆÙ†Ø§Øª Ø£Ùˆ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¯Ø¹ÙˆØ§Øª:",
      contact_note:
        "Ù…Ù„Ø§Ø­Ø¸Ø©: Ù…Ø§ Ø£Ù‚Ø¯Ù… ØªØ´Ø®ÙŠØµ Ø´Ø®ØµÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„. Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø±Ø­Ø¨ Ø¨Ù‡Ø§.",

      lang_btn: "EN",
      lang_hint: "Ø§Ù„Ù„ØºØ©"
    }
  };

  const defaultLang = "ar";
  const saved = localStorage.getItem("lang");
  const lang = saved || defaultLang;

  function setDirAndLang(l) {
    const isAr = l === "ar";
    document.documentElement.lang = l;
    document.documentElement.dir = isAr ? "rtl" : "ltr";
  }

  function applyTranslations(l) {
    const dict = i18n[l] || i18n[defaultLang];
    document.querySelectorAll("[data-i18n]").forEach((el) => {
      const key = el.getAttribute("data-i18n");
      if (dict[key]) el.textContent = dict[key];
    });

    const btn = document.getElementById("langToggle");
    if (btn) btn.textContent = (i18n[l] || i18n[defaultLang]).lang_btn;

    const hint = document.getElementById("langHint");
    if (hint) hint.textContent = (i18n[l] || i18n[defaultLang]).lang_hint;
  }

  function markActiveNav() {
    const path = location.pathname.split("/").pop() || "index.html";
    document.querySelectorAll(".menu a").forEach((a) => {
      const href = a.getAttribute("href");
      if (href === path) a.classList.add("active");
    });
  }

  function setYear() {
    const y = document.getElementById("year");
    if (y) y.textContent = new Date().getFullYear();
  }

  function pageFadeIn() {
    const page = document.querySelector(".page");
    if (!page) return;
    requestAnimationFrame(() => page.classList.add("loaded"));
  }

  function initReveal() {
    const els = document.querySelectorAll(".reveal");
    if (!els.length) return;

    const io = new IntersectionObserver(
      (entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) e.target.classList.add("in");
        });
      },
      { threshold: 0.14 }
    );

    els.forEach((el) => io.observe(el));
  }

  function initParallax() {
    const media = document.querySelector(".media");
    if (!media) return;

    let raf = null;
    const onMove = (ev) => {
      const r = media.getBoundingClientRect();
      const x = (ev.clientX - (r.left + r.width / 2)) / r.width;
      const y = (ev.clientY - (r.top + r.height / 2)) / r.height;
      if (raf) cancelAnimationFrame(raf);
      raf = requestAnimationFrame(() => {
        media.style.transform = `rotateX(${(-y * 2)}deg) rotateY(${(x * 2)}deg)`;
      });
    };
    const reset = () => (media.style.transform = "rotateX(0deg) rotateY(0deg)");

    // only on pointer devices
    if (window.matchMedia("(hover:hover)").matches) {
      media.addEventListener("pointermove", onMove);
      media.addEventListener("pointerleave", reset);
    }
  }

  function init() {
    setDirAndLang(lang);
    applyTranslations(lang);
    markActiveNav();
    setYear();
    pageFadeIn();
    initReveal();
    initParallax();

    const btn = document.getElementById("langToggle");
    if (btn) {
      btn.addEventListener("click", () => {
        const current = localStorage.getItem("lang") || lang;
        const next = current === "ar" ? "en" : "ar";
        localStorage.setItem("lang", next);
        setDirAndLang(next);
        applyTranslations(next);
      });
    }
  }

  document.addEventListener("DOMContentLoaded", init);
})();
